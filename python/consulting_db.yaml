entities:
  # Resource Table: Employee
  - name: Employee
    type: resource
    rows: 15
    attributes:
      - name: id
        type: pk
      - name: role
        type: resource_type
        generator:
          type: distribution
          formula: DISC(0.4, Tech Support, 0.4, Developer, 0.2, Manager)
      - name: name
        type: string
        generator:
          type: faker
          method: person.fullName
      - name: salary_range
        type: integer
        generator:
          type: distribution
          formula: DISC(0.3, 60000, 0.4, 90000, 0.3, 120000)

  # Entity Table: Project
  - name: Project
    type: entity
    rows: n/a # This table is populated by the simulation as projects arrive
    attributes:
      - name: id
        type: pk
      - name: company_id
        type: fk
        ref: Company.id
        generator:
          type: foreign_key
          subtype: many_to_one
      - name: name
        type: string
        generator:
          type: faker
          method: commerce.productName
      - name: description
        type: string
        generator:
          type: faker
          method: lorem.sentence
      - name: created_at
        type: datetime
      - name: status
        type: string
      - name: budget
        type: decimal(12,2)
        generator:
          type: distribution
          formula: UNIF(10000, 50000)

  # Supporting Client Table
  - name: Company
    rows: 5
    attributes:
      - name: id
        type: pk
      - name: name
        type: string
        generator:
          type: faker
          method: company.name
      - name: industry
        type: string
        generator:
          type: distribution
          formula: DISC(0.3, Tech, 0.3, Finance, 0.2, Healthcare, 0.2, Retail)

  # Skills and Bridge Table
  - name: Skill
    rows: 5
    attributes:
      - name: id
        type: pk
      - name: name
        type: string
        generator:
          type: distribution
          formula: DISC(0.2, Python, 0.2, Javascript, 0.2, SQL, 0.2, Cloud, 0.2, Management)

  - name: SkillEmployee
    type: bridge
    rows: 20
    attributes:
      - name: id
        type: pk
      - name: employee_id
        type: resource_id
        ref: Employee.id
        generator:
          type: foreign_key
          subtype: many_to_many # Employees can have multiple skills
      - name: skill_id
        type: fk # Assuming standard FK here, not resource_id
        ref: Skill.id
        generator:
          type: foreign_key
          subtype: many_to_many
      - name: level
        type: integer
        generator:
          type: distribution
          formula: DISC(0.4, 1, 0.4, 2, 0.2, 3)

  # Event Tracking Table for Project Phases
  - name: ProjectPhase
    type: event
    rows: n/a
    attributes:
      - name: id
        type: pk
      - name: project_id
        type: entity_id
        ref: Project.id
      - name: phase_name
        type: event_type
      - name: start_time
        type: datetime
      - name: end_time
        type: datetime
      - name: employee_id
        type: resource_id
        ref: Employee.id
